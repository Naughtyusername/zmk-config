// SPDX-License-Identifier: MIT
#define COMBO_TERM_FAST 18
#define COMBO_TERM_MED 30
#define COMBO_TERM_SLOW 50

/ {
    // clang-format off
    combos {
        compatible = "zmk,combos";

// =====================================================================================
// short hand list of all combos currently in use
/*
  row 1 GACS stickey keys (one shot mods in QMK)
  qw we er rt yu ui io op
  row 2 handy symbols and functions ie. tab enter caps word, backspace escape
  sd df fg hj jk l;
  row 3 this is where we can make use of the auto braces and quotes maybe vb for sqt
  nm () m, {} ,.[] jm k, for quotes? that will be where i start to try it out at least.

*/
// =====================================================================================

// =====================================================================================
// Main combo section TODO we need to port all of these to QMK, this shit rules so hard
// =====================================================================================
        // hj ONE_COMBO_TO_RULE_THEM_ALL
        combo_hj_caps_word {
            timeout-ms = <30>;
            // This is a generic default. It MUST be overridden by
            // board-specific keymaps. Example: For J and K on Sofle, this might
            // be <31 32>.
            key-positions = <0 1>;
            bindings = <&better_caps_word>;
            // layer locking, we can adjust this to allow on more layers as needed
            layers = <BASE 8>;
        };
        combo_yh_num_word {
            timeout-ms = <30>;
            key-positions = <0 1>;
            bindings = <&num_word LOWER>; // bindings set to 1 (we need 1 arg, ie. add the &num_word AND then 1 arg, which layer to swap to in this case. It should find LOWER if not put the value 2)
            layers = <BASE>;
        };
        combo_jk_esc {
            timeout-ms = <30>;
            key-positions = <0 1>;
            bindings = <&kp ESC>;
            layers = <BASE 8>;
        };
        combo_lscln_ent {
            timeout-ms = <30>;
            key-positions = <0 1>;
            bindings = <&kp RET>;
            layers = <BASE 8>;
        };
        combo_fg_underscore {
            timeout-ms = <30>;
            key-positions = <0 1>;
            bindings = <&kp UNDERSCORE>;
            layers = <BASE 8>;
        };
        combo_vb_minus {
            timeout-ms = <30>;
            key-positions = <0 1>;
            bindings = <&kp MINUS>;
            layers = <BASE 8>;
        };
        // mostly useful for quick delete one char when i fuck up placing ()'s or osm(sk) ctrl
        combo_sd_bspc {
            timeout-ms = <30>;
            key-positions = <0 1>;
            bindings = <&kp BSPC>;
            layers = <BASE 8>;
        };

        combo_df_tab {
            timeout-ms = <30>;
            key-positions = <0 1>;
            bindings = <&kp TAB>;
            layers = <BASE 8>;
        };

        combo_kl_sqt {
            timeout-ms = <30>;
            key-positions = <0 1>;
            bindings = <&kp SQT>;
            layers = <BASE 8>;
        };

// =====================================================================================
// Three finger combos, initial ones are for layer swapping, from base to vim
// from gaming to gaming 2
// from gaming to roguelike
// and then escapes from those top layers back down to base ofc, no trapping.
// =====================================================================================
// THE UNIVERSAL ESCAPE HATCH
        combo_return_to_base {
            timeout-ms = <50>;
            key-positions = <0 1 2>;  // QWE
            bindings = <&to 0>;
            layers = <0 5 6 7 8>; // active return to home on base gaming, gaming2, roguelike, vim
        };

// BASE → GAMING (ASD)
        combo_base_to_gaming {
            timeout-ms = <50>;
            key-positions = <0 1 2>;  // ASD
            bindings = <&to 5>;
            layers = <0>;
        };

// BASE → VIM (NM,)
        combo_base_to_vim {
            timeout-ms = <50>;
            key-positions = <0 1 2>;  // NM,
            bindings = <&to 8>;
            layers = <0>;
        };

// VIM → BASE (NM,) - toggle back
        combo_vim_to_base {
            timeout-ms = <50>;
            key-positions = <0 1 2>;  // NM,
            bindings = <&to 0>;
            layers = <8>;
        };
// GAMING → ROGUELIKE (HJK)
        combo_gaming_to_roguelike {
            timeout-ms = <50>;
            key-positions = <0 1 2>;  // HJK
            bindings = <&to 7>;
            layers = <5>;
        };

// ROGUELIKE → GAMING (HJK) - toggle back
        combo_roguelike_to_gaming {
            timeout-ms = <50>;
            key-positions = <0 1 2>;  // HJK
            bindings = <&to 5>;
            layers = <7>;
        };

// GAMING → GAMING2 (YUI)
        combo_gaming_to_gaming2 {
            timeout-ms = <50>;
            key-positions = <0 1 2>;  // YUI
            bindings = <&to 6>;
            layers = <5>;
        };

// GAMING2 → GAMING (YUI) - toggle back
        combo_gaming2_to_gaming {
            timeout-ms = <50>;
            key-positions = <0 1 2>;  // YUI
            bindings = <&to 5>;
            layers = <6>;
        };
// =====================================================================================
// top row one shot modifier combos
// =====================================================================================
        // Example: C and V keys for parentheses
        // Im putting these on the right hand since i stuck with qwerty and right
        // hand is to minimally uesd
        combo_nm_parens: combo_nm_parens {
            timeout-ms = <30>;
            key-positions = <0 1>;
            bindings = <&macro_parens>;
            layers = <BASE 8>;
        };
        // Example: X and C keys for braces
        combo_m_comma_braces: combo_m_comma_braces {
            timeout-ms = <30>;
            key-positions = <0 1>;
            bindings = <&macro_braces>;
            layers = <BASE 8>;
        };
        // Example: , . keys for brackets
        combo_comma_dot_brackets: combo_comma_dot_brackets {
            timeout-ms = <30>;
            key-positions = <0 1>;
            bindings = <&macro_brackets>;
            layers = <BASE 8>;
        };

// Auto pairing quotes as well

        // Double quotes with cursor inside
        combo_k_comma_dquotes: combo_k_comma_dquotes {
            timeout-ms = <30>;
            key-positions = <0 1>;
            bindings = <&macro_dquotes>;
            layers = <BASE 8>;
        };
        // Single quotes with cursor inside
        combo_jm_squotes: combo_jm_squotes {
            timeout-ms = <30>;
            key-positions = <0 1>;
            bindings = <&macro_squotes>;
            layers = <BASE 8>;
        };
// =====================================================================================
// top row one shot modifier combos GACS just like on homerow, just one row up,
// the idea being for roguelike gaming and since im making a RL it would be nice to
// swap to a layer that i can hit hjkl etc. and because of how games and frame rate work
// not have the awkward lack of input because the firmware waits and the frame doesnt proceess
// =====================================================================================
// Left-hand Shift (R+T])
        combo_rt_lshift: combo_rt_lshift {
            timeout-ms = <COMBO_TERM_FAST>;
            require-prior-idle-ms = <100>;
            key-positions = <0 1>;
            bindings = <&skq LSHFT>;
            slow-release;
            layers = <BASE 8>;
        };
// Left-hand Control (E+R)
        combo_er_lctrl: combo_er_lctrl {
            timeout-ms = <COMBO_TERM_FAST>;
            require-prior-idle-ms = <100>;
            key-positions = <0 1>;
            bindings = <&skq LCTRL>;
            slow-release;
            layers = <BASE 8>;
        };
// Left-hand Alt (W+E)
        combo_we_lalt: combo_we_lalt {
            timeout-ms = <COMBO_TERM_FAST>;
            require-prior-idle-ms = <100>;
            key-positions = <0 1>;
            bindings = <&skq LALT>;
            slow-release;
            layers = <BASE 8>;
        };
// Left-hand Super (Q+W)
        combo_qw_lgui: combo_qw_lgui {
            timeout-ms = <COMBO_TERM_FAST>;
            require-prior-idle-ms = <100>;
            key-positions = <0 1>;
            bindings = <&skq LGUI>;
            slow-release;
            layers = <BASE 8>;
        };
// =====================================================================================
// Right-hand Shift (Y+U])
        combo_yu_rshift: combo_yu_rshift {
            timeout-ms = <COMBO_TERM_FAST>;
            require-prior-idle-ms = <100>;
            key-positions = <0 1>;
            bindings = <&skq RSHFT>;
            slow-release;
            layers = <BASE 8>;
        };
// Right-hand Control (U+I)
        combo_ui_rctrl: combo_ui_rctrl {
            timeout-ms = <COMBO_TERM_FAST>;
            require-prior-idle-ms = <100>;
            key-positions = <0 1>;
            bindings = <&skq RCTRL>;
            slow-release;
            layers = <BASE 8>;
        };
// Right-hand Alt (I+O)
        combo_io_ralt: combo_io_ralt {
            timeout-ms = <COMBO_TERM_FAST>;
            require-prior-idle-ms = <100>;
            key-positions = <0 1>;
            bindings = <&skq RALT>;
            slow-release;
            layers = <BASE 8>;
        };
// Right-hand Super (O+P)
        combo_op_rgui: combo_op_rgui {
            timeout-ms = <COMBO_TERM_FAST>;
            require-prior-idle-ms = <100>;
            key-positions = <0 1>;
            bindings = <&skq RGUI>;
            slow-release;
            layers = <BASE 8>;
        };
// =====================================================================================
// end of combos
// =====================================================================================
    };
};
